# Insights Operator Gathered Data

This document is auto-generated by `make docs`, and details what 
data Insights Operator (IO) gathers from a cluster, the location 
where it is stored in the IO archive, and the applicable version(s) of OpenShift. 
Data stored in the `conditional/` directory is only 
gathered when certain conditions are met.

The IO pod operates in the `openshift-insights` namespace and the 
archives are packaged as `.tar.gz` files in `/var/lib/insights-operator`.

***

## APIRequestCounts

Collects API requests counts for the resources mentioned in
the alert provided as a string parameter.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/conditional/alerts/APIRemovedInNextEUSReleaseInUse/api_request_counts.json](./insights-archive-sample/conditional/alerts/APIRemovedInNextEUSReleaseInUse/api_request_counts.json)

### Location in archive
- `conditional/alerts/{alert_name}/api_request_counts.json`

### Config ID
`conditional/api_request_counts_of_resource_from_alert`

### Released version
- 4.10.0

### Backported versions
- 4.9.6+

### Changes
None


## ActiveAlerts

Collects active alerts from the `Alertmanager` API V2 in the JSON format. Alert data is also
still included in the [GatherMostRecentMetrics](#mostrecentmetrics) gatherer.

This adds new gatherer for gathering firing/active Prometheus alerts in JSON format as well. The original recent
metrics gatherer still continues to gather the alerts (not in JSON) as well, but this can be removed in the future,
and we will keep the data only in JSON.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/alerts.json](./insights-archive-sample/config/alerts.json)

### Location in archive
- `config/alerts.json`

### Config ID
`clusterconfig/active_alerts`

### Released version
- 4.12.0

### Backported versions
None

### Changes
None


## AggregatedMonitoringCRNames

Collects instances outside of the `openshift-monitoring` of the following custom resources:
- Kind: `Prometheus` Group: `monitoring.coreos.com`
- Kind: `AlertManager` Group: `monitoring.coreos.com`

### API Reference
- https://docs.openshift.com/container-platform/4.13/rest_api/monitoring_apis/alertmanager-monitoring-coreos-com-v1.html
- https://docs.openshift.com/container-platform/4.13/rest_api/monitoring_apis/prometheus-monitoring-coreos-com-v1.html

### Sample data
- [docs/insights-archive-sample/aggregated/custom_prometheuses_alertmanagers.json](./insights-archive-sample/aggregated/custom_prometheuses_alertmanagers.json)

### Location in archive
- `aggregated/custom_prometheuses_alertmanagers.json`

### Config ID
`clusterconfig/aggregated_monitoring_cr_names`

### Released version
- 4.16

### Backported versions
TBD

### Changes
None


## CRD

Collects the specified Custom Resource Definitions.

The following CRDs are gathered:
- `volumesnapshots.snapshot.storage.k8s.io` (10745 bytes)
- `volumesnapshotcontents.snapshot.storage.k8s.io` (13149 bytes)

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/crd](./insights-archive-sample/config/crd)

### Location in archive
- `config/crd/{name}.json`

### Config ID
`clusterconfig/crds`

### Released version
- 4.6.0

### Backported versions
None

### Changes
None


## CephCluster

Collects statuses of the`cephclusters.ceph.rook.io` resources
from Openshift Data Foundation Stack.

### API Reference
- https://github.com/rook/rook/blob/master/pkg/apis/ceph.rook.io/v1/types.go

### Sample data
- [docs/insights-archive-sample/config/storage/openshift-storage/cephclusters/ocs-storagecluster-cephcluster.json](./insights-archive-sample/config/storage/openshift-storage/cephclusters/ocs-storagecluster-cephcluster.json)

### Location in archive
| Version   | Path													 |
| --------- | ------------------------------------------------------- |
| < 4.13.0  | config/storage/{namespace}/{name}.json 				 |
| >= 4.13.0 | config/storage/{namespace}/cephclusters/{name}.json 	 |

### Config ID
`clusterconfig/ceph_cluster`

### Released version
- 4.12.0

### Backported versions
- 4.8.49+
- 4.9.48+
- 4.10.31+
- 4.11.2+

### Changes
In OCP 4.11 and OCP 4.12, the location of gathered data collides with data gathered by the
[StorageCluster](#StorageCluster) gatherer. It is practically impossible to tell the two resources apart.
Use with caution.


## CertificateSigningRequests

Collects anonymized `CertificateSigningRequests` which weren't Verified, or
when `Now < ValidBefore` or `Now > ValidAfter`

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/certificates/v1beta1/certificatesigningrequest.go#L78
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#certificatesigningrequestlist-v1beta1certificates

### Sample data
None

### Location in archive
- `config/certificatesigningrequests`

### Config ID
`clusterconfig/certificate_signing_requests`

### Released version
- 4.5.0

### Backported versions
- 4.3.25+
- 4.4.12+

### Changes
None


## ClusterAPIServer

Collects APIServer.config.openshift.io resource

### API Reference
https://github.com/openshift/api/blob/master/config/v1/types_apiserver.go

### Sample data
- [docs/insights-archive-sample/config/apiserver.json](./insights-archive-sample/config/apiserver.json)

### Location in archive
- `config/apiserver.json`

### Config ID
`cluster_apiserver`

### Released version
- 4.15.0

### Backported versions
- 4.14.0+
- 4.13.19+
- 4.12.42+
- 4.11.54+

### Changes
None


## ClusterAuthentication

Collects the cluster `Authentication` with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/authentication.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#authentication-v1operator-openshift-io

### Sample data
- [docs/insights-archive-sample/config/authentication.json](./insights-archive-sample/config/authentication.json)

### Location in archive
- `config/authentication.json`

### Config ID
`clusterconfig/authentication`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterFeatureGates

Collects the cluster `FeatureGate` with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/featuregate.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#featuregate-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/featuregate.json](./insights-archive-sample/config/featuregate.json)

### Location in archive
- `config/featuregate.json`

### Config ID
`clusterconfig/feature_gates`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterImage

Collects cluster `images.config.openshift.io` resource definition.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/config_client.go#L72
- https://docs.openshift.com/container-platform/latest/rest_api/config_apis/image-config-openshift-io-v1.html#image-config-openshift-io-v1

### Sample data
- [docs/insights-archive-sample/config/image.json](./insights-archive-sample/config/image.json)

### Location in archive
- `config/image.json`

### Config ID
`clusterconfig/image`

### Released version
- 4.11.0

### Backported versions
- 4.10.8+

### Changes
None


## ClusterImagePruner

Collects the image pruner configuration.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/clusteroperator/imageregistry.operator.openshift.io/imagepruner/cluster.json](./insights-archive-sample/clusteroperator/imageregistry.operator.openshift.io/imagepruner/cluster.json)

### Location in archive
| Version   | Path																			     |
| --------- | ----------------------------------------------------------------------------------- |
| < 4.6.0   | config/imagepruner.json														 	 |
| >= 4.6.0  | config/clusteroperator/{group}/{kind}/{name}.json |

### Config ID
`clusterconfig/image_pruners`

### Released version
- 4.5.0

### Backported versions
None

### Changes
None


## ClusterImageRegistry

Collects the cluster Image Registry configuration

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/clusteroperator/imageregistry.operator.openshift.io/config/cluster.json](./insights-archive-sample/config/clusteroperator/imageregistry.operator.openshift.io/config/cluster.json)

### Location in archive
| Version   | Path																			|
| --------- | ------------------------------------------------------------------------------ |
| < 4.7.0   | config/imageregistry.json 					                        			|
| >= 4.7.0  | config/clusteroperator/imageregistry.operator.openshift.io/config/cluster.json |
| >= 4.6.20 | config/persistentvolumes/{name}.json 											|

### Config ID
`clusterconfig/image_registries`

### Released version
- 4.5.0

### Backported versions
- 4.3.40+
- 4.4.12+

### Changes
- `PersistentVolumes` were introduced in version 4.7.0 and backported to 4.6.20+.
- If the Image Registry configuration uses any `PersistentVolumeClaim` for the storage, the corresponding
`PersistentVolume` definition is gathered.


## ClusterInfrastructure

Collects the cluster `Infrastructure` with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/infrastructure.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#infrastructure-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/infrastructure.json](./insights-archive-sample/config/infrastructure.json)

### Location in archive
- `config/infrastructure.json`

### Config ID
`clusterconfig/infrastructures`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterIngress

Collects the cluster `Ingress` with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/ingress.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#ingress-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/ingress.json](./insights-archive-sample/config/ingress.json)

### Location in archive
- `config/ingress.json`

### Config ID
`clusterconfig/ingress`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterIngressCertificates

Collects the certificate's NotBefore and NotAfter dates from the cluster's ingress controller certificates.
It also collects the name and namespace of any Ingress Controllers using the certificates.

### API Reference
- https://docs.openshift.com/container-platform/4.13/rest_api/operator_apis/ingresscontroller-operator-openshift-io-v1.html
- https://docs.openshift.com/container-platform/4.13/rest_api/security_apis/secret-v1.html

### Sample data
- [docs/insights-archive-sample/aggregated/ingress_controllers_certs.json](./insights-archive-sample/aggregated/ingress_controllers_certs.json)

### Location in archive
- `aggregated/ingress_controllers_certs.json`

### Config ID
`clusterconfig/ingress_certificates`

### Released version
- 4.17

### Backported versions
TBD

### Changes
None


## ClusterNetwork

Collects the cluster Network with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/network.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#network-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/network.json](./insights-archive-sample/config/network.json)

### Location in archive
- `config/network.json`

### Config ID
`clusterconfig/networks`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterOAuth

Collects the cluster OAuth with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/oauth.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#oauth-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/oauth.json](./insights-archive-sample/config/oauth.json)

### Location in archive
- `config/oauth.json`

### Config ID
`clusterconfig/oauths`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ClusterOperatorPodsAndEvents

Collects information about pods
and events from namespaces of degraded cluster operators. The collected
information includes:

- Definitions for non-running (terminated, pending) Pods
- Previous (if container was terminated) and current logs of all related pod containers
- Namespace events

### API Reference
None

### Sample data
- [docs/insights-archive-sample/pod](./insights-archive-sample/pod)
- [docs/insights-archive-sample/events](./insights-archive-sample/events)

### Location in archive
- `config/pod/{namespace}/{pod}.json`
- `events/{namespace}.json`
- `config/pod/{namespace}/logs/{pod}/{container}_{current|previous}.log`

### Config ID
`clusterconfig/operators_pods_and_events`

### Released version
- 4.8.2

### Backported versions
- 4.6.35+
- 4.7.11+

### Changes
- The data gathered by `ClusterOperatorPodsAndEvents` were originally gathered by
[`ClusterOperators`](#ClusterOperators). The [`ClusterOperators`](#ClusterOperators) gather was split at 4.8.2
and the change was backported to 4.7.11 and 4.6.35.
- The collected data was previously included as specifications for `ClusterOperators`, and it was initially
introduced in version `4.3.0` and later backported to version `4.2.10+`.


## ClusterOperators

Collects all the `ClusterOperators` definitions and their related resources
from the `operator.openshift.io` group.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/clusteroperator.go#L62
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#clusteroperatorlist-v1config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/clusteroperator](./insights-archive-sample/config/clusteroperator)

### Location in archive
| Version   | Path														|
| --------- | --------------------------------------------------------	|
| < 4.6.16  | config/clusteroperator/{kind}-{name}.json 					|
| >= 4.6.16 | config/clusteroperator/{group}/{kind}/{name}.json 			|
| < 4.8.2   | config/pod/{namespace}/{pod}.json							|
| < 4.8.2   | events/{namespace}.json									|

### Config ID
`clusterconfig/operators`

### Released version
- 4.2.0

### Backported versions
None

### Changes
- `config/pod/{namespace}/{pod}.json` and `events/` were moved to
[ClusterOperatorPodsAndEvents](#ClusterOperatorPodsAndEvents) since `4.8.2`,
both were introduced at `4.3.0` as part of this gatherer and backported to `4.2.10+`.


## ClusterProxy

Collects the cluster `Proxy` with cluster name.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/proxy.go#L30
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#proxy-v1-config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/proxy.json](./insights-archive-sample/config/proxy.json)

### Location in archive
- `config/proxy.json`

### Config ID
`clusterconfig/proxies`

### Released version
- 4.3.0

### Backported versions
None

### Changes
None


## ClusterRoles

Collects definition of the "admin" and "edit" cluster roles.

### API Reference
- https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/rbac/types.go

### Sample data
- [docs/insights-archive-sample/cluster-scoped-resources/rbac.authorization.k8s.io/clusterroles](./insights-archive-sample/cluster-scoped-resources/rbac.authorization.k8s.io/clusterroles)

### Location in archive
- `cluster-scoped-resources/rbac.authorization.k8s.io/clusterroles/`

### Config ID
`clusterconfig/clusterroles`

### Released version
- 4.18.0

### Backported versions

### Changes
None


## ClusterVersion

Collects the `ClusterVersion` (including the cluster ID) with the name
'version' and its resources.

### API Reference
- https://github.com/openshift/client-go/blob/master/config/clientset/versioned/typed/config/v1/clusterversion.go#L50
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#clusterversion-v1config-openshift-io

### Sample data
- [docs/insights-archive-sample/config/version.json](./insights-archive-sample/config/version.json)
- [docs/insights-archive-sample/config/pod](./insights-archive-sample/config/pod)
- [docs/insights-archive-sample/events/](./insights-archive-sample/events/)
- [docs/insights-archive-sample/config/id](./insights-archive-sample/config/id)

### Location in archive
| Version   | Path														|
| --------- | ---------------------------------------------------------- |
| >= 4.2.0  | config/version.json										|
| >= 4.2.0  | config/id													|
| >= 4.8.2  | config/pod/openshift-cluster-version/version.json			|
| >= 4.8.2  | events/openshift-cluster-version.json						|

### Config ID
`clusterconfig/version`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None


## ConfigMaps

Collects all `ConfigMaps` from the `openshift-config`
namespace and specific `ConfigMaps` from other namespaces (see Changes
for details).

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/configmap.go#L80
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#configmaplist-v1core

### Sample data
- [docs/insights-archive-sample/config/configmaps](./insights-archive-sample/config/configmaps)

### Location in archive
| Version   | Path														|
| --------- | ---------------------------------------------------------- |
| < 4.7.0   | config/configmaps/{configmap}								|
| >= 4.7.0  | config/configmaps/{namespace}/{name}/{configmap}         	|

### Config ID
`clusterconfig/config_maps`

### Released version
- 4.5.0

### Backported versions
- 4.3.25+
- 4.4.6+

### Changes
  - `cluster-monitoring-config` config map from `openshift-monitoring`
    namespace since versions 4.6.22+ and 4.7.0+
  - `install-config` key from the `cluster-config-v1` config map in the
    `kube-system` namespace since versions 4.9.0+; originally stored as
    `config/configmaps/kube-system/cluster-config-v1.json`, changed to
    `config/configmaps/kube-system/cluster-config-v1/install-config` since
    4.13.0+
  - `gateway-mode-config` config map from `openshift-network-operator`
    namespace since 4.14.0+
  - `insights-config` config map from `openshift-insights` namespace
    since 4.15.0+

### Anonymization
If the content of a `ConfigMap` contains a parseable PEM structure (like a certificate), it removes the inside of
PEM blocks. For `ConfigMap` of type `BinaryData`, it is encoded as standard base64. In the archive under configmaps,
we store the name of the namespace, the name of the `ConfigMap`, and then each key.

For example: ```config/configmaps/NAMESPACENAME/CONFIGMAPNAME/CONFIGMAPKEY1```


## ContainerImages

Collects essential information about running containers. Specifically, the age of pods,
the set of running images and the container names are collected.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/running_containers.json](./insights-archive-sample/config/running_containers.json)

### Location in archive
- `config/running_containers.json`

### Config ID
`clusterconfig/container_images`

### Released version
- 4.7.0

### Backported versions
- 4.5.33+
- 4.6.1+

### Changes
None


## ContainerRuntimeConfig

Collects `ContainerRuntimeConfig` information.

### API Reference
- https://github.com/openshift/machine-config-operator/blob/master/pkg/apis/machineconfiguration.openshift.io/v1/types.go#L402
- https://docs.okd.io/latest/rest_api/machine_apis/containerruntimeconfig-machineconfiguration-openshift-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/containerruntimeconfigs/set-log-and-pid.json](./insights-archive-sample/config/containerruntimeconfigs/set-log-and-pid.json)

### Location in archive
- `config/containerruntimeconfigs/{name}.json`

### Config ID
`clusterconfig/container_runtime_configs`

### Released version
- 4.7.0

### Backported versions
- 4.6.18+

### Changes
None


## ContainersLogs

Collects either current or previous containers logs for pods firing one of the
alerts from the conditions fetched from insights conditions service.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/pods/cluster-samples-operator-8ffb9b45f-49mjr/containers/cluster-samples-operator-watch/logs/last-100-lines.log](./insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/pods/cluster-samples-operator-8ffb9b45f-49mjr/containers/cluster-samples-operator-watch/logs/last-100-lines.log)

### Location in archive
- `conditional/namespaces/{namespace}/pods/{pod}/containers/{container}/{logs|logs-previous}/last-{tail-length}-lines.log`

### Config ID
`conditional/containers_logs`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## CostManagementMetricsConfigs

Collects `CostManagementMetricsConfigs` definitions.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/cost_management_metrics_configs](./insights-archive-sample/config/cost_management_metrics_configs)

### Location in archive
- `config/cost_management_metrics_configs/{name}.json`

### Config ID
`clusterconfig/cost_management_metrics_configs`

### Released version
- 4.10.0

### Backported versions
- 4.8.27+
- 4.9.13+

### Changes
None


## DVOMetrics

Collects metrics from the Deployment Validation Operator's
metrics service. The metrics are fetched via the /metrics endpoint and
filtered to only include those with a `deployment_validation_operator_` prefix.
If the DVO service is deployed in a namespace other than `openshift-deployment-validation-operator',
then the names of the workloads (e.g., namespace, deployment) are collected.
Otherwise, only the UIDs of those resources are collected.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/dvo_metrics](./insights-archive-sample/config/dvo_metrics)

### Location in archive
- `config/dvo_metrics`

### Config ID
`clusterconfig/dvo_metrics`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## HelmInfo

Collects summarized info about the helm usage on a cluster
in a generic fashion

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/helmchart_info.json](./insights-archive-sample/config/helmchart_info.json)

### Location in archive
- `config/helmchart_info.json`

### Config ID
`workloads/helmchart_info`

### Released version
- 4.15.0

### Backported versions
None


## HostSubnet

Collects `HostSubnet` information.

### API Reference
- https://github.com/openshift/client-go/blob/master/network/clientset/versioned/typed/network/v1/hostsubnet.go
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#hostsubnet-v1-network-openshift-io

### Sample data
- [docs/insights-archive-sample/config/hostsubnet](./insights-archive-sample/config/hostsubnet)

### Location in archive
- `config/hostsubnet/{name}.json`

### Config ID
`clusterconfig/host_subnets`

### Released version
- 4.6.0

### Backported versions
- 4.4.29+
- 4.5.15+

### Changes
None


## ImageStreamsOfNamespace

Closure which collects image streams from the provided namespace

### API Reference
- https://docs.openshift.com/container-platform/4.7/rest_api/image_apis/imagestream-image-openshift-io-v1.html#apisimage-openshift-iov1namespacesnamespaceimagestreams

### Sample data
- [docs/insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/imagestreams/example.json](./insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/imagestreams/example.json)

### Location in archive
| Version   | Path														|
| --------- | --------------------------------------------------------	|
| >= 4.9.0  | conditional/namespaces/{namespace}/imagestreams/{name}.json |

### Config ID
`conditional/image_streams_of_namespace`

### Released version
- 4.9.0

### Backported versions
None

### Changes
None


## InstallPlans

Collects top 100 `InstallPlans` from `openshift-*` namespaces. Because `InstallPlans` have
unique generated names, it groups them by namespace and the "template" for name generation from field `generateName`.
It also collects total number of all `InstallPlans` and all non-unique `InstallPlans`.

### API Reference
- https://github.com/operator-framework/api/blob/master/pkg/operators/v1alpha1/installplan_types.go#L26

### Sample data
- [docs/insights-archive-sample/config/installplans.json](./insights-archive-sample/config/installplans.json)

### Location in archive
- `config/instalplans.json`

### Config ID
`clusterconfig/install_plans`

### Released version
- 4.7.0

### Backported versions
- 4.5.33+
- 4.6.16+

### Changes
None


## JaegerCR

Collects maximum of 5 `jaegers.jaegertracing.io` custom resources installed in the cluster.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/jaegertracing.io/jaeger1.json](./insights-archive-sample/config/jaegertracing.io/jaeger1.json)

### Location in archive
- `config/jaegers.jaegertracing.io/{name}.json`

### Config ID
`clusterconfig/jaegers`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## KubeControllerManagerLogs

Collects logs from `kube-controller-manager` pods in the
`openshift-kube-controller-manager` namespace with following substrings:
- "Internal error occurred: error resolving resource",
- "syncing garbage collector with updated resources from discovery",

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.10/rest_api/workloads_apis/pod-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/openshift-kube-controller-manager/logs/kube-controller-manager-ip-10-0-168-11.us-east-2.compute.internal/errors.log](./insights-archive-sample/config/pod/openshift-kube-controller-manager/logs/kube-controller-manager-ip-10-0-168-11.us-east-2.compute.internal/errors.log)

### Location in archive
- `config/pod/openshift-kube-controller-manager/logs/{pod-name}/errors.log`

### Config ID
`clusterconfig/kube_controller_manager_logs`

### Released version
- 4.11.0

### Backported versions
- 4.10.6+
- 4.9.27+

### Changes
None


## LogsOfNamespace

Collects logs from pods in the provided namespace.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/pods/cluster-samples-operator-8ffb9b45f-49mjr/containers/cluster-samples-operator/logs/last-100-lines.log](./insights-archive-sample/conditional/namespaces/openshift-cluster-samples-operator/pods/cluster-samples-operator-8ffb9b45f-49mjr/containers/cluster-samples-operator/logs/last-100-lines.log)

### Location in archive
- `conditional/namespaces/{namespace}/pods/{pod_name}/containers/{container_name}/logs/last-{n}-lines.log`

### Config ID
`conditional/logs_of_namespace`

### Released version
- 4.9.0

### Backported versions
None

### Changes
None


## LokiStack

Collects `lokistacks.loki.grafana.com` resources.

The gatherer will collect up to 20 resources from `openshift-logging` namespace
and it will report errors if it finds a `LokiStack` resource in a different namespace
or if there are more than 20 `LokiStacks` in the `openshift-logging` namespace.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/namespaces/openshift-logging/.json](./insights-archive-sample/namespaces/openshift-logging/.json)

### Location in archive
- `namespace/{namespace}/loki.grafana.com/lokistacks/{name}.json`

### Config ID
`clusterconfig/lokistacks

### Released version
- 4.18.0

### Backported versions
None

### Changes
None


## Machine

Collects `Machine` information.

### API Reference
- https://github.com/openshift/api/blob/master/machine/v1beta1/types_machine.go
- https://docs.openshift.com/container-platform/4.12/rest_api/machine_apis/machine-machine-openshift-io-v1beta1.html

### Sample data
- [docs/insights-archive-sample/config/machines/openshift-machine-api/](./insights-archive-sample/config/machines/openshift-machine-api/)

### Location in archive
- `config/machines/`

### Config ID
`clusterconfig/machines`

### Released version
- 4.13.0

### Backported versions
- 4.11.29+
- 4.12.5+

### Changes
None


## MachineAutoscalers

Collects `MachineAutoscalers` definition.

### API Reference
- https://github.com/openshift/cluster-autoscaler-operator/blob/master/pkg/apis/autoscaling/v1beta1/machineautoscaler_types.go
- https://docs.openshift.com/container-platform/4.7/rest_api/autoscale_apis/machineautoscaler-autoscaling-openshift-io-v1beta1.html#machineautoscaler-autoscaling-openshift-io-v1beta1

### Sample data
- [docs/insights-archive-sample/config/machineautoscalers/openshift-machine-api/worker-us-east-1a.json](./insights-archive-sample/config/machineautoscalers/openshift-machine-api/worker-us-east-1a.json)

### Location in archive
- `config/machineautoscalers/{namespace}/{name}.json`

### Config ID
`clusterconfig/machine_autoscalers`

### Released version
- 4.8.2

### Backported versions
None

### Changes
None


## MachineConfigPool

Collects `MachineConfigPool` information.

### API Reference
- https://github.com/openshift/machine-config-operator/blob/master/pkg/apis/machineconfiguration.openshift.io/v1/types.go#L197
- https://docs.okd.io/latest/rest_api/machine_apis/machineconfigpool-machineconfiguration-openshift-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/machineconfigpools](./insights-archive-sample/config/machineconfigpools)

### Location in archive
- `config/machineconfigpools`

### Config ID
`clusterconfig/machine_config_pools`

### Released version
- 4.7.0

### Backported versions
- 4.5.33+
- 4.6.16+

### Changes
None


## MachineConfigs

Collects `MachineConfigs` definitions. Following data is intentionally removed from the definitions:
- `spec.config.storage.files`
- `spec.config.passwd.users`

### API Reference
- https://docs.openshift.com/container-platform/4.7/rest_api/machine_apis/machineconfig-machineconfiguration-openshift-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/machineconfigs/75-worker-sap-data-intelligence.json](./insights-archive-sample/config/machineconfigs/75-worker-sap-data-intelligence.json)

### Location in archive
- `config/machineconfigs/{resource}.json`

### Config ID
`clusterconfig/machine_configs`

### Released version
- 4.9.0

### Backported versions
- 4.8.5

### Changes
None


## MachineHealthCheck

Collects `MachineHealthCheck` information.

### API Reference
- https://github.com/openshift/api/blob/master/machine/v1beta1/types_machinehealthcheck.go
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#machinehealthcheck-v1beta1-machine-openshift-io

### Sample data
- [docs/insights-archive-sample/config/machinehealthchecks/openshift-machine-api/machine-api-termination-handler.json](./insights-archive-sample/config/machinehealthchecks/openshift-machine-api/machine-api-termination-handler.json)

### Location in archive
- `config/machinehealthchecks/{namespace}/{resource}.json`

### Config ID
`clusterconfig/machine_healthchecks`

### Released version
- 4.8.0

### Backported versions
None

### Changes
None


## MachineSet

Collects `MachineSet` information.

### API Reference
- https://github.com/openshift/api/blob/master/machine/v1beta1/types_machineset.go
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#machineset-v1beta1-machine-openshift-io

### Sample data
- [docs/insights-archive-sample/d50d0126-c90b-4428-a75f-dc08cd02960a-worker-test](./insights-archive-sample/d50d0126-c90b-4428-a75f-dc08cd02960a-worker-test)

### Location in archive
- `config//machinesets/{resource}`

### Config ID
`clusterconfig/machine_sets`

### Released version
- 4.6.0

### Backported versions
- 4.4.29+
- 4.5.15+

### Changes
None


## MonitoringPVs

Collects Persistent Volumes from openshift-monitoring namespace
which matches with ConfigMap configuration yaml

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/configmap.go
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/persistentvolume.go

### Sample data
- [docs/insights-archive-sample/config/persistentvolumes/monitoring-persistent-volume.json](./insights-archive-sample/config/persistentvolumes/monitoring-persistent-volume.json)

### Location in archive
- `config/persistentvolumes/{persistent_volume_name}.json`

### Config ID
`clusterconfig/monitoring_persistent_volumes`

### Released version
- 4.14

### Backported versions
- 4.13.0
- 4.12.17
- 4.11.41

### Changes
None


## MostRecentMetrics

Collects cluster Federated Monitoring metrics.

The GET REST query to URL /federate
Gathered metrics:
  - `virt_platform`
  - `cluster_installer`
  - `vsphere_node_hw_version_total`
  - namespace CPU and memory usage
  - `console_helm_installs_total`
  - `console_helm_upgrades_total`
  - `console_helm_uninstalls_total`
  - `etcd_server_slow_apply_total`
  - `etcd_server_slow_read_indexes_total`
  - followed by at most 1000 lines of `ALERTS` metric

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/metrics](./insights-archive-sample/config/metrics)

### Location in archive
- `config/metrics`

### Config ID
`clusterconfig/metrics`

### Released version
- 4.3.0

### Backported versions
None

### Changes
- `etcd_object_counts` introduced in version 4.3+ and removed in 4.12.0
- `cluster_installer` introduced in version 4.3+
- `ALERTS` introduced in version 4.3+
- `namespace:container_cpu_usage_seconds_total:sum_rate` introduced in version 4.5+
- `namespace:container_memory_usage_bytes:sum` introduced in version 4.5+
- `virt_platform metric` introduced in version 4.8+ and backported to 4.6.34+, 4.7.16+ versions
- `vsphere_node_hw_version_total` introduced in version 4.8+ and backported to 4.7.11+ version
- `console_helm_installs_total` introduced in version 4.11+
- `console_helm_upgrades_total` introduced in version 4.12+
- `console_helm_uninstalls_total` introduced in version 4.12+
- `openshift_apps_deploymentconfigs_strategy_total` introduced in version 4.13+ and backported to 4.12.5+ version
- `etcd_server_slow_apply_total` introduced in version 4.16+
- `etcd_server_slow_read_indexes_total` introduced in version 4.16+
- `haproxy_exporter_server_threshold` introduced in version 4.17+


## MutatingWebhookConfigurations

Collects `MutatingWebhookConfiguration` resources.

### API Reference
- https://docs.openshift.com/container-platform/4.8/rest_api/extension_apis/mutatingwebhookconfiguration-admissionregistration-k8s-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/mutatingwebhookconfigurations](./insights-archive-sample/config/mutatingwebhookconfigurations)

### Location in archive
- `config/mutatingwebhookconfigurations/{resource}.json`

### Config ID
`clusterconfig/mutating_webhook_configurations`

### Released version
- 4.10.3

### Backported versions
- 4.7.40+
- 4.8.24+
- 4.9.11+

### Changes
None


## NamespacesWithOverlappingUIDs

Collects namespaces with overlapping UID ranges.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/namespace.go
- Response is an array of arrays of namespaces with overlapping UIDs. Each namespace is represented by its name
and the UID range value from the `openshift.io/sa.scc.uid-range` annotation

### Sample data
- [docs/insights-archive-sample/config/namespaces_with_overlapping_uids.json](./insights-archive-sample/config/namespaces_with_overlapping_uids.json)

### Location in archive
- `config/namespaces_with_overlapping_uids.json`

### Config ID
`clusterconfig/overlapping_namespace_uids`

### Released version
- 4.11.0

### Backported versions
- 4.8.41+
- 4.9.31+
- 4.10.12+

### Changes
None


## NetNamespace

Collects `NetNamespaces` networking information.

### API Reference
- https://github.com/openshift/client-go/blob/master/network/clientset/versioned/typed/network/v1/netnamespace.go

### Sample data
- [docs/insights-archive-sample/config/netnamespaces.json](./insights-archive-sample/config/netnamespaces.json)

### Location in archive
- `config/netnamespaces.json`

### Config ID
`clusterconfig/netnamespaces`

### Released version
- 4.7.0

### Backported versions
- 4.6.20+

### Changes
None


## NodeLogs

Collects control plane node logs from journal unit with following substrings:
  - E\\d{4} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}
  - connect: connection refused
  - failed (failure): command timed out
  - Failed to make webhook authenticator request: Post
  - raise JSONDecodeError("Expecting value", s, err.value) from None
  - ContainerStateWaiting{Reason:ContainerCreating
  - ContainersNotReady Message:containers with unready status
  - MountVolume.MountDevice failed for volume
  - kubernetes.io/csi: attacher.MountDevice failed to create newCsiDriverClient
  - Unable to attach or mount volumes: unmounted volumes
  - timed out waiting for the condition
  - CreateContainerError: context deadline exceeded
  - rpc error: code = ResourceExhausted desc = grpc: received message larger than max

### API Reference
- https://docs.openshift.com/container-platform/4.9/rest_api/node_apis/node-core-v1.html#apiv1nodesnameproxypath

### Sample data
- [docs/insights-archive-sample/config/nodes/logs](./insights-archive-sample/config/nodes/logs)

### Location in archive
- `config/nodes/logs/{hostname}.log`

### Config ID
`clusterconfig/node_logs`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## NodeNetworkConfigurationPolicy

Collects cluster scope "nodenetworkconfigurationpolicy.nmstate.io/v1"
resources

### API Reference
- https://github.com/nmstate/kubernetes-nmstate/blob/main/api/v1/nodenetworkconfigurationpolicy_types.go

### Sample data
- [docs/insights-archive-sample/cluster-scoped-resources/nmstate.io/nodenetworkconfigurationpolicies/etcd-quorum-guard.json](./insights-archive-sample/cluster-scoped-resources/nmstate.io/nodenetworkconfigurationpolicies/etcd-quorum-guard.json)

### Location in archive
- `cluster-scoped-resources/nmstate.io/nodenetworkconfigurationpolicies/{name}.json`

### Config ID
`clusterconfig/nodenetworkconfigurationpolicies`

### Released version
- 4.18.0

### Backported versions

### Changes


## NodeNetworkState

Collects cluster scope "nodenetworkstate.nmstate.io/v1beta1"
resources

### API Reference
- https://github.com/nmstate/kubernetes-nmstate/blob/main/api/v1beta1/nodenetworkstate_types.go

### Sample data
- [docs/insights-archive-sample/cluster-scoped-resources/nmstate.io/nodenetworkstates/etcd-quorum-guard.json](./insights-archive-sample/cluster-scoped-resources/nmstate.io/nodenetworkstates/etcd-quorum-guard.json)

### Location in archive
- `cluster-scoped-resources/nmstate.io/nodenetworkstates/{name}.json`

### Config ID
`clusterconfig/nodenetworkstates`

### Released version
- 4.18.0

### Backported versions

### Changes


## Nodes

Collects all node resources.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/node.go#L78
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#nodelist-v1core

### Sample data
- [docs/insights-archive-sample/config/node](./insights-archive-sample/config/node)

### Location in archive
- `config/node/{node}.json`

### Config ID
`clusterconfig/nodes`

### Released version
- 4.2.0

### Backported versions
None

### Changes
None

### Anonymization
- Removes any annotation that does not match specific namespaces (`openshift.io/`, `k8s.io/`, `kubernetes.io/`).
- Replaces the values of any label that matches the previously listed namespaces and not a region label
(`failure-domain.beta.kubernetes.io/region`, `topology.kubernetes.io/region`) with 'x' strings while preserving
its length.
- Replaces the values of the node's status object fields such as `BootID`, `SystemUUID`, and `MachineID`
with 'x' strings preserving the same length.
- Clears the `Images` field of the node's status object, removing any information about the container
images running on the node.


## OLMOperators

Collects the list of installed OLM operators. Each OLM operator (in the list) contains
following data:
- OLM operator name
- OLM operator version
- related `ClusterServiceVersion` conditions

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/olm_operators.json](./insights-archive-sample/config/olm_operators.json)

### Location in archive
- `config/olm_operators`

### Config ID
`clusterconfig/olm_operators`

### Released version
- 4.7.0

### Backported versions
- 4.6.26+

### Changes
None


## OpenShiftAPIServerOperatorLogs

Collects logs from `openshift-apiserver-operator` with following substrings:
- "the server has received too many requests and has asked us"
- "because serving request timed out and response had been started"

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/openshift-apiserver-operator/logs/openshift-apiserver-operator-6ddb679b87-4kn55/errors.log](./insights-archive-sample/config/pod/openshift-apiserver-operator/logs/openshift-apiserver-operator-6ddb679b87-4kn55/errors.log)

### Location in archive
- `config/pod/openshift-apiserver-operator/logs/{pod-name}/errors.log`

### Config ID
`clusterconfig/openshift_apiserver_operator_logs`

### Released version
- 4.7.0

### Backported versions
None

### Changes
None


## OpenshiftAuthenticationLogs

Collects logs from pods in `openshift-authentication` namespace with following
substring:
- "AuthenticationError: invalid resource name"

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/openshift-authentication/logs/oauth-openshift-6c98668d5b-ftt5n/errors.log](./insights-archive-sample/config/pod/openshift-authentication/logs/oauth-openshift-6c98668d5b-ftt5n/errors.log)

### Location in archive
- `config/pod/openshift-authentication/logs/{pod-name}/errors.log`

### Config ID
`clusterconfig/openshift_authentication_logs`

### Released version
- 4.7.0

### Backported versions
None

### Changes
None


## OpenshiftLogging

Collects `clusterlogging.logging.openshift.io` resources.

### API Reference
- https://github.com/openshift/cluster-logging-operator/blob/master/pkg/apis/logging/v1/clusterlogging_types.go

### Sample data
- [docs/insights-archive-sample/config/logging/openshift-logging/instance.json](./insights-archive-sample/config/logging/openshift-logging/instance.json)

### Location in archive
- `config/logging/{namespace}/{name}.json`

### Config ID
`clusterconfig/openshift_logging`

### Released version
- 4.9.0

### Backported versions
None

### Changes
None


## OpenshiftMachineAPIEvents

Collects warning ("abnormal") events
from `openshift-machine-api` namespace

### API Reference
None

### Sample data
- [docs/insights-archive-sample/events/openshift-machine-api.json](./insights-archive-sample/events/openshift-machine-api.json)

### Location in archive
- `events/openshift-machine-api.json`

### Config ID
`clusterconfig/openshift_machine_api_events`

### Released version
- 4.12.0

### Backported versions
None

### Changes
None


## OpenshiftSDNControllerLogs

Collects logs from `sdn-controller` pod in `openshift-sdn` namespace with
following substrings:

- "Node %s is not Ready": A node has been set offline for egress IPs because it is reported not ready at API
- "Node %s may be offline... retrying": An egress node has failed the egress IP health check once,
so it has big chances to be marked as offline soon or, at the very least, there has been a connectivity glitch.
- "Node %s is offline": An egress node has failed enough probes to have been marked offline for egress IPs.
If it has egress CIDRs assigned, its egress IPs have been moved to other nodes. Indicate issues at either the node
or the network between the master and the node.
- "Node %s is back online": This indicates that a node has recovered from the condition described
at the previous message, by starting succeeding the egress IP health checks. Useful just in case that previous
“Node %s is offline” messages are lost, so that we have a clue that there was failure previously.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/openshift-sdn/logs/sdn-f2694/errors.log](./insights-archive-sample/config/pod/openshift-sdn/logs/sdn-f2694/errors.log)
- [docs/insights-archive-sample/config/pod/openshift-sdn/logs/sdn-controller-l8gq9/errors.log](./insights-archive-sample/config/pod/openshift-sdn/logs/sdn-controller-l8gq9/errors.log)

### Location in archive
- `config/pod/openshift-sdn/logs/{pod-name}/errors.log`

### Config ID
`clusterconfig/openshift_sdn_controller_logs`

### Released version
- 4.7.0

### Backported versions
- 4.6.21+

### Changes
None


## OpenshiftSDNLogs

Collects logs from pods in `openshift-sdn` namespace with following substrings:
- "Got OnEndpointsUpdate for unknown Endpoints",
- "Got OnEndpointsDelete for unknown Endpoints",
- "Unable to update proxy firewall for policy",
- "Failed to update proxy firewall for policy",

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/openshift-sdn/logs/sdn-f2694/errors.log](./insights-archive-sample/config/pod/openshift-sdn/logs/sdn-f2694/errors.log)

### Location in archive
- `config/pod/openshift-sdn/logs/{name}/errors.log`

### Config ID
`clusterconfig/openshift_sdn_logs`

### Released version
- 4.7.0

### Backported versions
- 4.6.19+

### Changes
None


## PodDefinition

Collects pod definition from pods that are
firing one of the configured alerts.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/conditional/namespaces/openshift-monitoring/pods/alertmanager-main-0/alertmanager-main-0.json](./insights-archive-sample/conditional/namespaces/openshift-monitoring/pods/alertmanager-main-0/alertmanager-main-0.json)

### Location in archive
- `conditional/namespaces/{namespace}/pods/{name}/{name}.json`

### Config ID
`conditional/pod_definition`

### Released version
- 4.11.0

### Backported versions
None

### Changes
None


## PodDisruptionBudgets

Collects the cluster's `PodDisruptionBudgets`.

### API Reference
- https://github.com/kubernetes/client-go/blob/v11.0.0/kubernetes/typed/policy/v1beta1/poddisruptionbudget.go#L80
- https://docs.okd.io/latest/rest_api/policy_apis/poddisruptionbudget-policy-v1beta1.html

### Sample data
- [docs/insights-archive-sample/config/pdbs/openshift-machine-config-operator/etcd-quorum-guard.json](./insights-archive-sample/config/pdbs/openshift-machine-config-operator/etcd-quorum-guard.json)

### Location in archive
- `config/pdbs/{namespace}/{name}.json`

### Config ID
`clusterconfig/pdbs`

### Released version
- 4.6.0

### Backported versions
- 4.4.30+
- 4.5.15+

### Changes
- The gatherer was changed to gather pdbs only from namespaces with "openshift" prefix
and the limit of gathered records to 100 since 4.14.


## PodNetworkConnectivityChecks

Collects a summary of failed `PodNetworkConnectivityChecks` from last 24 hours.

Time of the most recently failed check with each reason and message is recorded.

### API Reference
- podnetworkconnectivitychecks.controlplane.operator.openshift.io/v1alpha1
- https://pkg.go.dev/github.com/openshift/api/operatorcontrolplane/v1alpha1

### Sample data
- [docs/insights-archive-sample/config/podnetworkconnectivitychecks.json](./insights-archive-sample/config/podnetworkconnectivitychecks.json)

### Location in archive
- `config/podnetworkconnectivitychecks.json`

### Config ID
`clusterconfig/pod_network_connectivity_checks`

### Released version
- 4.8.2

### Backported versions
None

### Changes
None


## PrometheusTSDBStatus

Collects Prometheus TSDB status.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/tsdb.json](./insights-archive-sample/config/tsdb.json)

### Location in archive
- `config/tsdb.json`

### Config ID
`clusterconfig/tsdb_status`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## SAPConfig

Collects selected security context constraints
and cluster role bindings from clusters running a SAP payload.

### API Reference
- https://pkg.go.dev/github.com/openshift/client-go/authorization/clientset/versioned/typed/authorization/v1
- https://pkg.go.dev/github.com/openshift/client-go/security/clientset/versioned/typed/security/v1

### Sample data
- [docs/insights-archive-sample/config/securitycontextconstraint](./insights-archive-sample/config/securitycontextconstraint)
- [docs/insights-archive-sample/config/clusterrolebinding](./insights-archive-sample/config/clusterrolebinding)

### Location in archive
- `config/clusterrolebinding/{name}.json`
- `config/securitycontentconstraint/{name}.json`

### Config ID
`clusterconfig/sap_config`

### Released version
- 4.7.0

### Backported versions
- 4.6.20+

### Changes
None


## SAPDatahubs

Collects `datahubs.installers.datahub.sap.com`
resources from SAP/SDI clusters.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/customresources/installers.datahub.sap.com/datahubs/sdi/default.json](./insights-archive-sample/customresources/installers.datahub.sap.com/datahubs/sdi/default.json)

### Location in archive
- `customresources/installers.datahub.sap.com/datahubs/{namespace}/{name}.json`

### Config ID
`clusterconfig/sap_datahubs`

### Released version
- 4.8.2

### Backported versions
- 4.7.5+
- 4.6.26+

### Changes
None


## SAPPods

Collects information about pods running in SAP/SDI namespaces.

- Only pods with a failing status are collected.
- Failed pods belonging to a job that has later succeeded are ignored.

> **Note**
> This data is collected only if the `installers.datahub.sap.com` resource is found in the cluster.

### API Reference
- https://pkg.go.dev/k8s.io/client-go/kubernetes/typed/core/v1
- https://pkg.go.dev/k8s.io/client-go/kubernetes/typed/batch/v1
- https://pkg.go.dev/k8s.io/client-go/dynamic

### Sample data
None

### Location in archive
- `config/pod/{namespace}/{name}.json`

### Config ID
`clusterconfig/sap_pods`

### Released version
- 4.8.2

### Backported versions
- 4.7.5+
- 4.6.25+

### Changes
None


## SAPVsystemIptablesLogs

Collects logs from SAP `vsystem-iptables` containers
including one from license management pods with the following substring:
  - "can't initialize iptables table",

> **Note**
> This data is collected only if the `installers.datahub.sap.com` resource is found in the cluster.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
- [docs/insights-archive-sample/config/pod/sdi/logs/license-manager-da1d2e8fadfb8dd7022f08-4hjh7-6887768c5b-qzxb6/errors.log](./insights-archive-sample/config/pod/sdi/logs/license-manager-da1d2e8fadfb8dd7022f08-4hjh7-6887768c5b-qzxb6/errors.log)

### Location in archive
- `config/pod/{namespace}/logs/{pod-name}/errors.log`

### Config ID
`clusterconfig/sap_license_management_logs`

### Released version
- 4.8.2

### Backported versions
- 4.7.5+
- 4.6.25+

### Changes
None


## SchedulerLogs

Collects logs from pods in `openshift-kube-scheduler-namespace` from app
`openshift-kube-scheduler` with following substring:
- "PodTopologySpread"

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/pod_expansion.go#L48
- https://docs.openshift.com/container-platform/4.6/rest_api/workloads_apis/pod-core-v1.html#apiv1namespacesnamespacepodsnamelog

### Sample data
None

### Location in archive
- `config/pod/openshift-kube-scheduler/logs/{pod-name}/messages.log`

### Config ID
`clusterconfig/scheduler_logs`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## Schedulers

Collects information about schedulers

### API Reference
- https://docs.openshift.com/container-platform/4.9/rest_api/config_apis/scheduler-config-openshift-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/schedulers/cluster.json](./insights-archive-sample/config/schedulers/cluster.json)

### Location in archive
- `config/schedulers/cluster.json`

### Config ID
`clusterconfig/schedulers`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## ServiceAccounts

Collects `ServiceAccount` stats
from kubernetes default and `openshift-*` namespaces.

### API Reference
- https://github.com/kubernetes/client-go/blob/master/kubernetes/typed/core/v1/serviceaccount.go#L83
- https://docs.openshift.com/container-platform/4.3/rest_api/index.html#serviceaccount-v1-core

### Sample data
- [docs/insights-archive-sample/config/serviceaccounts.json](./insights-archive-sample/config/serviceaccounts.json)

### Location in archive
- `config/serviceaccounts.json`

### Config ID
`clusterconfig/service_accounts`

### Released version
- 4.7.0

### Backported versions
- 4.5.34+
- 4.6.20+

### Changes
None


## SilencedAlerts

Collects the alerts that have been silenced.

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/silenced_alerts.json](./insights-archive-sample/config/silenced_alerts.json)

### Location in archive
- `config/silenced_alerts.json`

### Config ID
`config/silenced_alerts`

### Released version
- 4.10.0

### Backported versions
None

### Changes
None


## StorageClasses

Collects the cluster `StorageClass` available in cluster.

### API Reference
- https://docs.openshift.com/container-platform/4.13/rest_api/storage_apis/storageclass-storage-k8s-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/storage/storageclasses/standard-csi.json](./insights-archive-sample/config/storage/storageclasses/standard-csi.json)

### Location in archive
- `config/storage/storageclasses/{name}.json`

### Config ID
`clusterconfig/storage_classes`

### Released version
- 4.15

### Backported versions
None

### Changes
None


## StorageCluster

Collects `storageclusters.ocs.openshift.io` resources

### API Reference
- https://github.com/red-hat-storage/ocs-operator/blob/main/api/v1/storagecluster_types.go

### Sample data
- [docs/insights-archive-sample/config/storage/openshift-storage/storageclusters/ocs-storagecluster.json](./insights-archive-sample/config/storage/openshift-storage/storageclusters/ocs-storagecluster.json)

| Version   | Path														|
| --------- | --------------------------------------------------------	|
| < 4.12.0  | config/storage/{namespace}/{name}.json 					|
| >= 4.12.0 | config/storage/{namespace}/storageclusters/{name}.json 	|

### Config ID
`clusterconfig/storage_cluster`

### Released version
- 4.11.0

### Backported versions
None

### Changes
- Renamed from `OpenshiftStorage` to `StorageCluster` in version `4.12.0+`
- Config ID changed from `clusterconfig/openshift_storage` to `clusterconfig/storage_cluster` in version `4.12.0+`
- In OCP 4.11 and OCP 4.12, the location of gathered data collides with data gathered by the
CephCluster](#CephCluster) gatherer. It is practically impossible to tell the two resources apart. Use with caution.


## SupportSecret

Collects anonymized support secret if there is any

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/secrets/openshift-config/support/data.json](./insights-archive-sample/config/secrets/openshift-config/support/data.json)

### Location in archive
- `config/secrets/openshift-config/support/data.json`

### Config ID
`clusterconfig/support_secret`

### Released version
- 4.11.0

### Backported versions
None

### Changes
None


## ValidatingWebhookConfigurations

Collects `ValidatingWebhookConfiguration` resources

### API Reference
- https://docs.openshift.com/container-platform/4.8/rest_api/extension_apis/validatingwebhookconfiguration-admissionregistration-k8s-io-v1.html

### Sample data
- [docs/insights-archive-sample/config/validatingwebhookconfigurations/](./insights-archive-sample/config/validatingwebhookconfigurations/)

### Location in archive
- `config/validatingwebhookconfigurations/{name}.json`

### Config ID
`clusterconfig/validating_webhook_configurations`

### Released version
- 4.10.3

### Backported versions
- 4.7.40+
- 4.8.24+
- 4.9.11+

### Changes
None


## WorkloadInfo

Collects summarized info about the workloads on a cluster
in a generic fashion

### API Reference
None

### Sample data
- [docs/insights-archive-sample/config/workload_info.json](./insights-archive-sample/config/workload_info.json)

### Location in archive
- `config/workload_info.json`

### Config ID
`workloads/workload_info`

### Released version
- 4.8.0

### Backported versions
None

### Changes
- Image repository is now collected if it comes from outside the Red Hat domain


